(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsMBAV6jDlJAAAApUlEQVQoz7XQrYoCARQF4G9EVFQwWMxi0wcQDEZhgsEH0KjFR3LTPsEimEWDD2ATDEbLslgs4xgm+AOOGPbccuGcezj3QEEq5n41XtNZJUUB6kKhlr2lmQOqpkImNtq24ruJrK2cxeIsGGs++GZ0bisErzNkvMH/C6LkixhHXzZ2agZGyjhZ+E566BrK391V9PXkkiZh+WT85+eDkBeXdEleNY2+AivhJJBArZWAAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDEyOjA0OjA1KzAxOjAwRkYW5gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMjowNDowNSswMTowMDcbrloAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},16:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsLNxtxp3efAAAAwElEQVQoz3WQoQoCQRBAn6doMQkHd8UiNpMgiNgFP+CSv2AQrPcBNvPhDwhqMYoiWGyaRUUuGC+dybCGE3bXXWfDDvMeM7MLaozZ4/E3OjwQLGmpxZySuzwpABExDkc2Zo+AO1OqALQZ2MaUv7dPkZGOSoSceJGwYELKDF/FHmeEdlIaqrD+wYIteYn7BhZcsxc6AHQt69ayEZlQt35cRQoXq5DItGfZIdbtlSEEuuByUOCb0JzoMGRHwo05TVn+AN/pTsMhQufxAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDExOjU1OjI3KzAxOjAwsKOrAAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMTo1NToyNyswMTowMMH+E7wAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},20:function(e,n,t){e.exports=t(35)},25:function(e,n,t){},27:function(e,n,t){},35:function(e,n,t){"use strict";t.r(n);var i=t(0),r=t.n(i),s=t(9),a=t.n(s),o=(t(25),t(4)),u=t(5),c=t(7),l=t(6),h=t(8),d=(t(27),t(1)),A=t(13),f=function(){function e(n,t){Object(o.a)(this,e),this.x=n,this.y=t}return Object(u.a)(e,[{key:"uuid",value:function(){return parseInt("1".concat(this.x).concat(this.y))}},{key:"isValid",value:function(e){return!(this.x<0)&&(!(this.y<0)&&(!(this.x>=e)&&!(this.y>=e)))}},{key:"directions",value:function(){return["UP","DOWN","LEFT","RIGHT","UP_RIGHT","UP_LEFT","DOWN_LEFT","DOWN_RIGHT"]}},{key:"designateNeighbours",value:function(){var e=this;return this.directions().map(function(n){return e.move(n)})}},{key:"move",value:function(n){switch(n){case"UP":return new e(this.x,this.y-1);case"DOWN":return new e(this.x,this.y+1);case"LEFT":return new e(this.x-1,this.y);case"RIGHT":return new e(this.x+1,this.y);case"UP_RIGHT":return new e(this.x+1,this.y-1);case"UP_LEFT":return new e(this.x-1,this.y-1);case"DOWN_LEFT":return new e(this.x-1,this.y+1);case"DOWN_RIGHT":return new e(this.x+1,this.y+1)}}}]),e}(),g=function(){function e(n,t){Object(o.a)(this,e),this.size=n,this.minesCount=t,this.generate()}return Object(u.a)(e,[{key:"generate",value:function(){this.placedMines=[],this.discoveredCells=[],this.flaggedCells=[],this.discoveredMines=[],this.init(),this.placeMines()}},{key:"init",value:function(){var e=this;this.matrix=new Array(this.size).fill(0).map(function(n){return new Array(e.size).fill(0)})}},{key:"placeMines",value:function(){this.placedMines=[];for(var e=1;e<=this.minesCount;e++){for(var n=this.randomCoords();this.placedMines.includes(n.uuid());)n=this.randomCoords();this.setOnCoords(n,9),this.placedMines.push(n.uuid()),this.updateMineNeighbours(n)}}},{key:"setOnCoords",value:function(e,n){this.matrix[e.x][e.y]=n}},{key:"getOnCoords",value:function(e){return this.matrix[e.x][e.y]}},{key:"findNeighboursFor",value:function(e){var n=this;return e.designateNeighbours().filter(function(e){return e.isValid(n.size)})}},{key:"isMine",value:function(e){return 9===this.getOnCoords(e)}},{key:"isNum",value:function(e){return this.getOnCoords(e)>0&&this.getOnCoords(e)<9}},{key:"isEmpty",value:function(e){return 0===this.getOnCoords(e)}},{key:"isValid",value:function(e){return e.isValid(this.size)}},{key:"updateMineNeighbours",value:function(e){var n=this;this.findNeighboursFor(e).forEach(function(e){n.isMine(e)||n.setOnCoords(e,n.getOnCoords(e)+1)})}},{key:"cellIsDiscovered",value:function(e){return this.discoveredCells.find(function(n){return n.uuid()===e.uuid()})}},{key:"cellIsFlagged",value:function(e){return this.flaggedCells.find(function(n){return n.uuid()===e.uuid()})}},{key:"cellIsDefeatCause",value:function(e){return this.discoveredMines.find(function(n){return n.uuid()===e.uuid()})}},{key:"markDiscovered",value:function(e){this.discoveredCells.push(e)}},{key:"markFlagged",value:function(e,n){this.flaggedCells=n?Object(A.a)(this.flaggedCells).concat([e]):this.flaggedCells.filter(function(n){return n.uuid()!==e.uuid()})}},{key:"onCellDiscover",value:function(e){var n=this;this.isValid(e)&&(this.cellIsDiscovered(e)||this.cellIsFlagged(e)||(this.isMine(e)?this.discoveredMines=Object(A.a)(this.discoveredMines).concat([e]):this.isNum(e)?this.markDiscovered(e):this.isEmpty(e)&&(this.markDiscovered(e),this.findNeighboursFor(e).forEach(function(e){return n.onCellDiscover(e)}))))}},{key:"onCellFlag",value:function(e){this.isValid(e)&&(this.cellIsDiscovered(e)||this.markFlagged(e,!this.cellIsFlagged(e)))}},{key:"hasDiscoveredAllCells",value:function(){return Math.pow(this.size,2)-this.placedMines.length===this.discoveredCells.length}},{key:"flaggedMinesCount",value:function(){var e=this;return this.flaggedCells.filter(function(n){return e.isMine(n)})}},{key:"hasFlaggedAllMines",value:function(){return this.flaggedMinesCount().length===this.minesCount}},{key:"minesLeft",value:function(){return this.minesCount-this.flaggedCells.length}},{key:"randomCoords",value:function(){return new f(this.random(),this.random())}},{key:"random",value:function(){var e=this.size;return Math.floor(Math.random()*(e-0))+0}}]),e}(),v=t(2),p=t(3),m=t(15),b=t.n(m),x=t(16),y=t.n(x);function k(){var e=Object(v.a)(["\n    &:after {\n      content: '","';\n    }\n  "]);return k=function(){return e},e}function C(){var e=Object(v.a)(["\n    background-color: #FA1C28;\n  "]);return C=function(){return e},e}function O(){var e=Object(v.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return O=function(){return e},e}function w(){var e=Object(v.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return w=function(){return e},e}function E(){var e=Object(v.a)(["\n    background: #F7D8B6;\n    box-shadow: none;\n  "]);return E=function(){return e},e}function j(){var e=Object(v.a)(["\n  margin: 1px;\n  background: #F16163;\n  width: 25px;\n  height: 25px;\n  float: left;\n  padding-top: 3px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #597FA0;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24);\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return j=function(){return e},e}var M=p.b.div(j(),function(e){return e.discovered&&Object(p.a)(E())},function(e){return e.flagged&&Object(p.a)(w(),b.a)},function(e){return e.discovered&&e.hasMine&&Object(p.a)(O(),y.a)},function(e){return e.boomed&&Object(p.a)(C())},function(e){return e.discovered&&e.hasNum&&Object(p.a)(k(),e.num)}),F=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).onDiscover=t.onDiscover.bind(Object(d.a)(Object(d.a)(t))),t.onMineFlag=t.onMineFlag.bind(Object(d.a)(Object(d.a)(t))),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"onDiscover",value:function(e){e.preventDefault(),this.props.onCellDiscover(this.props.coords)}},{key:"onMineFlag",value:function(e){e.preventDefault(),this.props.onCellFlag(this.props.coords)}},{key:"render",value:function(){return r.a.createElement(M,{num:this.props.num,key:this.props.uuid,hasMine:this.props.hasMine,hasNum:this.props.hasNum,flagged:this.props.flagged,boomed:this.props.isDefeatCause,discovered:this.props.discovered,onClick:this.onDiscover,onContextMenu:this.onMineFlag})}}]),n}(i.Component);function D(){var e=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;\n"]);return D=function(){return e},e}var N=p.b.div(D());function T(){var e=Object(v.a)(["\n  display: block;\n  height: 25px;\n  margin: 1px;\n"]);return T=function(){return e},e}var Q=p.b.div(T());function R(){var e=Object(v.a)(["\n  cursor: ponter;\n  background-color: #EEAF09;\n  border-color: #EEAF09;\n  color: #fff;\n\n  margin-top: 10px;\n\n  text-align: center;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n\n  outline: 0;\n\n  -webkit-appearance: button;\n\n  font-size: 13px;\n  line-height: 1.5384616;\n  border-radius: 3px;\n\n  font-weight: 700;\n  text-transform: uppercase;\n  border-width: 0;\n  padding: 9px 17px;\n\n  -webkit-transition: all ease-in-out 0.15s;\n  -o-transition: all ease-in-out 0.15s;\n  transition: all ease-in-out 0.15s;\n\n  &:active {\n    background-color: #D6420A;\n  }\n"]);return R=function(){return e},e}var I=p.b.a(R()),Z=function(e){function n(e){var t;return Object(o.a)(this,n),(t=Object(c.a)(this,Object(l.a)(n).call(this,e))).state=t.init(),t.onCellDiscover=t.onCellDiscover.bind(Object(d.a)(Object(d.a)(t))),t.onCellFlag=t.onCellFlag.bind(Object(d.a)(Object(d.a)(t))),t.onReset=t.onReset.bind(Object(d.a)(Object(d.a)(t))),t}return Object(h.a)(n,e),Object(u.a)(n,[{key:"finished",value:function(){return this.win()||this.defeat()}},{key:"generateMatrix",value:function(){return new g(this.props.size,this.minesCount())}},{key:"minesCount",value:function(){return Math.ceil(.0589*Math.pow(Math.pow(this.props.size,2),1.1711))}},{key:"init",value:function(){return{started:!1,matrix:this.generateMatrix()}}},{key:"defeat",value:function(){return this.state.matrix.discoveredMines.length>0}},{key:"win",value:function(){return this.state.matrix.hasDiscoveredAllCells()&&this.state.matrix.hasFlaggedAllMines()}},{key:"onCellDiscover",value:function(e){this.finished()||(this.setState({started:!0}),this.state.matrix.onCellDiscover(e))}},{key:"onCellFlag",value:function(e){this.finished()||(this.setState({started:!0}),this.state.matrix.onCellFlag(e))}},{key:"onReset",value:function(){this.setState(this.init())}},{key:"renderHeader",value:function(){return this.win()?r.a.createElement("h4",{style:{color:"green"}},this.props.winText):this.defeat()?r.a.createElement("h4",{style:{color:"red"}},this.props.defeatText):this.state.started?r.a.createElement("h4",null,this.state.matrix.minesLeft()):r.a.createElement("h4",null,this.props.beforeStartText)}},{key:"renderBoard",value:function(){var e=this;return this.state.matrix.matrix.map(function(n,t){var i=n.map(function(n,i){var s=new f(i,t),a=e.state.matrix.getOnCoords(s),o=e.state.matrix.isMine(s),u=e.state.matrix.isNum(s);return r.a.createElement(F,{discovered:e.state.matrix.cellIsDiscovered(s)||e.finished(),flagged:e.state.matrix.cellIsFlagged(s),uuid:s.uuid(),key:s.uuid(),coords:s,num:a,hasNum:u,hasMine:o,isDefeatCause:e.state.matrix.cellIsDefeatCause(s),onCellDiscover:e.onCellDiscover,onCellFlag:e.onCellFlag})});return r.a.createElement(Q,{key:t},i)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,this.renderHeader(),this.renderBoard(),r.a.createElement(I,{onClick:this.onReset},this.props.resetText)))}}]),n}(i.Component),z=function(e){function n(){return Object(o.a)(this,n),Object(c.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,this.props))}}]),n}(i.Component);z.defaultProps={size:10,beforeStartText:"Start when you are ready",winText:"You won!",defeatText:"You lost!",resetText:"Reset"};var B=z;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.fc4bb61b.chunk.js.map