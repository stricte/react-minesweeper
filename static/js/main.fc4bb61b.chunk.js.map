{"version":3,"sources":["flag.png","mine.png","Coords.js","Matrix.js","components/Square.jsx","components/Cell.jsx","components/Container.jsx","components/Row.jsx","components/ResetBtn.jsx","components/Board.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Coords","x","y","Object","classCallCheck","this","parseInt","concat","size","_this","directions","map","direction","move","Matrix","minesCount","generate","placedMines","discoveredCells","flaggedCells","discoveredMines","init","placeMines","matrix","Array","fill","row","i","mine","randomCoords","includes","uuid","setOnCoords","push","updateMineNeighbours","coords","num","_this2","designateNeighbours","filter","neighbour","isValid","getOnCoords","_this3","findNeighboursFor","forEach","isMine","find","discovered","flagged","status","toConsumableArray","f","_this4","cellIsDiscovered","cellIsFlagged","isNum","markDiscovered","isEmpty","onCellDiscover","markFlagged","Math","pow","length","_this5","flaggedMinesCount","random","max","floor","Square","styled","div","_templateObject","props","css","_templateObject2","_templateObject3","flag","hasMine","_templateObject4","boomed","_templateObject5","hasNum","_templateObject6","Cell","possibleConstructorReturn","getPrototypeOf","call","onDiscover","bind","assertThisInitialized","onMineFlag","e","preventDefault","onCellFlag","react_default","a","createElement","components_Square","key","isDefeatCause","onClick","onContextMenu","Component","Container","Container_templateObject","Row","Row_templateObject","ResetBtn","ResetBtn_templateObject","Board","state","onReset","win","defeat","ceil","started","generateMatrix","hasDiscoveredAllCells","hasFlaggedAllMines","finished","setState","style","color","winText","defeatText","minesLeft","beforeStartText","cells","column","components_Cell","cellIsDefeatCause","components_Row","Fragment","components_Container","renderHeader","renderBoard","components_ResetBtn","resetText","App","components_Board","defaultProps","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.fc4bb61b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsMBAV6jDlJAAAApUlEQVQoz7XQrYoCARQF4G9EVFQwWMxi0wcQDEZhgsEH0KjFR3LTPsEimEWDD2ATDEbLslgs4xgm+AOOGPbccuGcezj3QEEq5n41XtNZJUUB6kKhlr2lmQOqpkImNtq24ruJrK2cxeIsGGs++GZ0bisErzNkvMH/C6LkixhHXzZ2agZGyjhZ+E566BrK391V9PXkkiZh+WT85+eDkBeXdEleNY2+AivhJJBArZWAAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDEyOjA0OjA1KzAxOjAwRkYW5gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMjowNDowNSswMTowMDcbrloAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsLNxtxp3efAAAAwElEQVQoz3WQoQoCQRBAn6doMQkHd8UiNpMgiNgFP+CSv2AQrPcBNvPhDwhqMYoiWGyaRUUuGC+dybCGE3bXXWfDDvMeM7MLaozZ4/E3OjwQLGmpxZySuzwpABExDkc2Zo+AO1OqALQZ2MaUv7dPkZGOSoSceJGwYELKDF/FHmeEdlIaqrD+wYIteYn7BhZcsxc6AHQt69ayEZlQt35cRQoXq5DItGfZIdbtlSEEuuByUOCb0JzoMGRHwo05TVn+AN/pTsMhQufxAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDExOjU1OjI3KzAxOjAwsKOrAAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMTo1NToyNyswMTowMMH+E7wAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","class Coords {\n  constructor(x, y){\n    this.x = x;\n    this.y = y;\n  }\n\n  uuid(){\n    return parseInt(`1${this.x}${this.y}`);\n  }\n\n  isValid(size){\n    if(this.x < 0) return false;\n    if(this.y < 0) return false;\n\n    if(this.x >= size) return false;\n    if(this.y >= size) return false;\n\n    return true;\n  }\n\n  directions(){\n    return ['UP', 'DOWN', 'LEFT', 'RIGHT', 'UP_RIGHT', 'UP_LEFT', 'DOWN_LEFT', 'DOWN_RIGHT'];\n  }\n\n  designateNeighbours(){\n    return this.directions().map((direction) => {\n      return this.move(direction);\n    });\n  }\n\n  move(direction){\n    switch(direction){\n      case 'UP':\n      return new Coords(this.x, this.y - 1);\n      case 'DOWN':\n      return new Coords(this.x, this.y + 1);\n      case 'LEFT':\n      return new Coords(this.x - 1, this.y);\n      case 'RIGHT':\n      return new Coords(this.x + 1, this.y);\n      case 'UP_RIGHT':\n      return new Coords(this.x + 1, this.y - 1);\n      case 'UP_LEFT':\n      return new Coords(this.x - 1, this.y - 1);\n      case 'DOWN_LEFT':\n      return new Coords(this.x - 1, this.y + 1);\n      case 'DOWN_RIGHT':\n      return new Coords(this.x + 1, this.y + 1);\n      // no default\n    }\n  }\n}\n\nexport default Coords;","import Coords from './Coords';\n\nclass Matrix {\n  constructor(size, minesCount){\n    this.size = size;\n    this.minesCount = minesCount;\n\n    this.generate();\n  }\n\n  generate(){\n    this.placedMines = [];\n    this.discoveredCells = [];\n    this.flaggedCells = [];\n    this.discoveredMines = [];\n\n    this.init();\n    this.placeMines();\n  }\n\n  init(){\n    this.matrix = new Array(this.size).fill(0).map(row => new Array(this.size).fill(0));\n  }\n\n  placeMines(){\n    this.placedMines = [];\n\n    for(let i = 1; i <= this.minesCount; i++ ){\n      let mine = this.randomCoords();\n\n      while(this.placedMines.includes(mine.uuid())){\n        mine = this.randomCoords();\n      }\n\n      this.setOnCoords(mine, 9);\n      this.placedMines.push(mine.uuid());\n\n      this.updateMineNeighbours(mine);\n    }\n  }\n\n  setOnCoords(coords, num){\n    this.matrix[coords.x][coords.y] = num;\n  }\n\n  getOnCoords(coords){\n    return this.matrix[coords.x][coords.y];\n  }\n\n  findNeighboursFor(coords){\n    const dirtyNeighbours = coords.designateNeighbours();\n\n    return dirtyNeighbours.filter((neighbour) => {\n      return neighbour.isValid(this.size);\n    });\n  }\n\n  isMine(coords){\n    return (this.getOnCoords(coords) === 9);\n  }\n\n  isNum(coords){\n    return (this.getOnCoords(coords) > 0 && this.getOnCoords(coords) < 9);\n  }\n\n  isEmpty(coords){\n    return (this.getOnCoords(coords) === 0);\n  }\n\n  isValid(coords){\n    return coords.isValid(this.size);\n  }\n\n  updateMineNeighbours(mine){\n    const neighbours = this.findNeighboursFor(mine);\n\n    neighbours.forEach((neighbour) => {\n      if(this.isMine(neighbour)){\n        return;\n      }\n\n      this.setOnCoords(neighbour, this.getOnCoords(neighbour) + 1);\n    });\n  }\n\n  cellIsDiscovered(coords){\n    return this.discoveredCells.find((discovered) => {\n      return discovered.uuid() === coords.uuid();\n    });\n  }\n\n  cellIsFlagged(coords){\n    return this.flaggedCells.find((flagged) => {\n      return flagged.uuid() === coords.uuid();\n    });\n  }\n\n  cellIsDefeatCause(coords){\n    return this.discoveredMines.find((discovered) => {\n      return discovered.uuid() === coords.uuid();\n    });\n  }\n\n  markDiscovered(coords){\n    this.discoveredCells.push(coords);\n  }\n\n  markFlagged(coords, status){\n    if(status){\n      this.flaggedCells = [...this.flaggedCells, coords];\n    }\n    else {\n      this.flaggedCells = this.flaggedCells.filter((f) => {\n        return f.uuid() !== coords.uuid();\n      })\n    }\n  }\n\n  onCellDiscover(coords){\n    if(!this.isValid(coords)) return;\n\n    if(this.cellIsDiscovered(coords)) return;\n    if(this.cellIsFlagged(coords)) return;\n    \n    if(this.isMine(coords)) {\n      this.discoveredMines = [...this.discoveredMines, coords];\n\n      return;\n    }\n\n    if(this.isNum(coords)){\n      this.markDiscovered(coords);\n      \n      return;\n    }\n    \n    if(this.isEmpty(coords)){\n      this.markDiscovered(coords);\n\n      const neighbours = this.findNeighboursFor(coords);\n      neighbours.forEach((neighbour) => this.onCellDiscover(neighbour));\n    }\n  }\n\n  onCellFlag(coords){\n    if(!this.isValid(coords)) return;\n    if(this.cellIsDiscovered(coords)) return;\n\n    this.markFlagged(coords, !this.cellIsFlagged(coords));\n  }\n\n  hasDiscoveredAllCells(){\n    return ((Math.pow(this.size, 2) - this.placedMines.length) === this.discoveredCells.length);\n  }\n\n  flaggedMinesCount(){\n    return this.flaggedCells\n               .filter((flagged) => this.isMine(flagged));\n  }\n\n  hasFlaggedAllMines(){ \n    return this.flaggedMinesCount().length === this.minesCount;\n  }\n\n  minesLeft(){\n    return (this.minesCount - this.flaggedCells.length);\n  }\n\n  randomCoords(){\n    return new Coords(this.random(), this.random());\n  }\n\n  random(){\n    const min = 0\n    const max = this.size;\n    \n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n}\n\nexport { Matrix, Coords };","import styled, { css } from 'styled-components'\n\nimport flag from './../flag.png';\nimport mine from './../mine.png';\n\nconst Square = styled.div`\n  margin: 1px;\n  background: #F16163;\n  width: 25px;\n  height: 25px;\n  float: left;\n  padding-top: 3px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #597FA0;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24);\n\n  ${props => props.discovered && css`\n    background: #F7D8B6;\n    box-shadow: none;\n  `}\n\n  ${props => props.flagged && css`\n    background-image: url(${flag});\n    background-position: center;\n    background-repeat: no-repeat;\n  `}\n\n  ${props => props.discovered && props.hasMine && css`\n    background-image: url(${mine});\n    background-position: center;\n    background-repeat: no-repeat;\n  `}\n\n  ${props => props.boomed && css`\n    background-color: #FA1C28;\n  `}\n\n  ${props => props.discovered && props.hasNum && css`\n    &:after {\n      content: '${props.num}';\n    }\n  `}\n`;\n\nexport default Square;","import React, { Component } from 'react';\n\nimport Square from './Square';\n\nclass Cell extends Component {\n  constructor(props){\n    super(props);\n\n    this.onDiscover = this.onDiscover.bind(this);\n    this.onMineFlag = this.onMineFlag.bind(this);\n  }\n\n  onDiscover(e) {\n    e.preventDefault();\n\n    this.props.onCellDiscover(this.props.coords);\n  }\n\n  onMineFlag(e) {\n    e.preventDefault();\n\n    this.props.onCellFlag(this.props.coords);\n  }\n\n  render() {\n    return (\n      <Square \n        num={this.props.num}\n        key={this.props.uuid} \n        hasMine={this.props.hasMine}\n        hasNum={this.props.hasNum}\n        flagged={this.props.flagged}\n        boomed={this.props.isDefeatCause} \n        discovered={this.props.discovered} \n        onClick={this.onDiscover} \n        onContextMenu={this.onMineFlag}>\n      </Square>\n    );\n  }\n}\n\nexport default Cell;","import styled from 'styled-components';\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;\n`;\n\nexport default Container;","import styled from 'styled-components';\n\nconst Row = styled.div`\n  display: block;\n  height: 25px;\n  margin: 1px;\n`;\n\nexport default Row;","import styled from 'styled-components';\n\nconst ResetBtn = styled.a`\n  cursor: ponter;\n  background-color: #EEAF09;\n  border-color: #EEAF09;\n  color: #fff;\n\n  margin-top: 10px;\n\n  text-align: center;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n\n  outline: 0;\n\n  -webkit-appearance: button;\n\n  font-size: 13px;\n  line-height: 1.5384616;\n  border-radius: 3px;\n\n  font-weight: 700;\n  text-transform: uppercase;\n  border-width: 0;\n  padding: 9px 17px;\n\n  -webkit-transition: all ease-in-out 0.15s;\n  -o-transition: all ease-in-out 0.15s;\n  transition: all ease-in-out 0.15s;\n\n  &:active {\n    background-color: #D6420A;\n  }\n`;\n\nexport default ResetBtn;","import React, { Component } from 'react';\n\nimport { Matrix, Coords } from '../Matrix';\n\nimport Cell from './Cell';\nimport Container from './Container';\nimport Row from './Row';\nimport ResetBtn from './ResetBtn';\n\nclass Board extends Component {\n  constructor(props){\n    super(props);\n\n    this.state = this.init();\n\n    this.onCellDiscover = this.onCellDiscover.bind(this);\n    this.onCellFlag = this.onCellFlag.bind(this);\n    this.onReset = this.onReset.bind(this);\n  }\n\n  finished(){\n    return (this.win() || this.defeat());\n  }\n\n  generateMatrix(){\n    return new Matrix(this.props.size, this.minesCount());\n  }\n\n  minesCount() {\n    return Math.ceil(0.0589 * Math.pow(Math.pow(this.props.size, 2), 1.1711));\n  }\n\n  init(){ \n    return {\n      started: false,\n      matrix: this.generateMatrix()\n    };\n  }\n\n  defeat(){\n    return this.state.matrix.discoveredMines.length > 0\n  }\n\n  win(){\n    return (this.state.matrix.hasDiscoveredAllCells() && this.state.matrix.hasFlaggedAllMines());\n  }\n\n  onCellDiscover(coords){\n    if(this.finished()) return;\n\n    this.setState({ started: true });\n\n    this.state.matrix.onCellDiscover(coords);\n  }\n\n  onCellFlag(coords){\n    if(this.finished()) return;\n    \n    this.setState({ started: true });\n\n    this.state.matrix.onCellFlag(coords);\n  }\n\n  onReset(){\n    this.setState(this.init());\n  }\n\n  renderHeader() {\n    if(this.win()) return <h4 style={{color: 'green'}}>{this.props.winText}</h4>;\n    if(this.defeat()) return <h4 style={{color: 'red'}}>{this.props.defeatText}</h4>\n    if(!this.state.started) return <h4>{this.props.beforeStartText}</h4>\n    return <h4>{this.state.matrix.minesLeft()}</h4>;\n  }\n\n  renderBoard(){\n    return this.state.matrix.matrix.map((row, y) => {\n      const cells = row.map((column, x) => {\n        const coords = new Coords(x, y);\n\n        const num = this.state.matrix.getOnCoords(coords);\n        const hasMine = this.state.matrix.isMine(coords);\n        const hasNum = this.state.matrix.isNum(coords);\n\n        return (\n          <Cell\n            discovered={this.state.matrix.cellIsDiscovered(coords) || this.finished()}\n            flagged={this.state.matrix.cellIsFlagged(coords)}\n            uuid={coords.uuid()}\n            key={coords.uuid()}\n            coords={coords} \n            num={num}\n            hasNum={hasNum}\n            hasMine={hasMine} \n            isDefeatCause={this.state.matrix.cellIsDefeatCause(coords)}\n            onCellDiscover={this.onCellDiscover} \n            onCellFlag={this.onCellFlag} />\n        );\n      });\n\n      return (\n        <Row key={y}>{cells}</Row>\n      )\n    })\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Container>\n          {this.renderHeader()}\n          {this.renderBoard()}\n          <ResetBtn onClick={this.onReset}>{this.props.resetText}</ResetBtn>\n        </Container>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Board;","import React, { Component } from 'react';\nimport './App.css';\n\nimport Board from './components/Board';\n\nclass App extends Component {\n  static defaultProps = {\n    size: 10,\n    beforeStartText: 'Start when you are ready',\n    winText: 'You won!',\n    defeatText: 'You lost!',\n    resetText: 'Reset'\n  }\n\n  render() {\n    return( \n      <React.Fragment>\n        <Board {...this.props} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}