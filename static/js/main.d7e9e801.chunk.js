(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsMBAV6jDlJAAAApUlEQVQoz7XQrYoCARQF4G9EVFQwWMxi0wcQDEZhgsEH0KjFR3LTPsEimEWDD2ATDEbLslgs4xgm+AOOGPbccuGcezj3QEEq5n41XtNZJUUB6kKhlr2lmQOqpkImNtq24ruJrK2cxeIsGGs++GZ0bisErzNkvMH/C6LkixhHXzZ2agZGyjhZ+E566BrK391V9PXkkiZh+WT85+eDkBeXdEleNY2+AivhJJBArZWAAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDEyOjA0OjA1KzAxOjAwRkYW5gAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMjowNDowNSswMTowMDcbrloAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},16:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiCxsLNxtxp3efAAAAwElEQVQoz3WQoQoCQRBAn6doMQkHd8UiNpMgiNgFP+CSv2AQrPcBNvPhDwhqMYoiWGyaRUUuGC+dybCGE3bXXWfDDvMeM7MLaozZ4/E3OjwQLGmpxZySuzwpABExDkc2Zo+AO1OqALQZ2MaUv7dPkZGOSoSceJGwYELKDF/FHmeEdlIaqrD+wYIteYn7BhZcsxc6AHQt69ayEZlQt35cRQoXq5DItGfZIdbtlSEEuuByUOCb0JzoMGRHwo05TVn+AN/pTsMhQufxAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE4LTExLTI3VDExOjU1OjI3KzAxOjAwsKOrAAAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxOC0xMS0yN1QxMTo1NToyNyswMTowMMH+E7wAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},20:function(e,t,n){e.exports=n(35)},25:function(e,t,n){},27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s=n(9),a=n.n(s),o=(n(25),n(4)),u=n(5),c=n(7),l=n(6),h=n(8),d=(n(27),n(1)),A=n(13),f=function(){function e(t,n){Object(o.a)(this,e),this.x=t,this.y=n}return Object(u.a)(e,[{key:"uuid",value:function(){return parseInt("1".concat(this.x).concat(this.y))}},{key:"isValid",value:function(e){return!(this.x<0)&&(!(this.y<0)&&(!(this.x>=e)&&!(this.y>=e)))}},{key:"directions",value:function(){return["UP","DOWN","LEFT","RIGHT","UP_RIGHT","UP_LEFT","DOWN_LEFT","DOWN_RIGHT"]}},{key:"designateNeighbours",value:function(){var e=this;return this.directions().map(function(t){return e.move(t)})}},{key:"move",value:function(t){switch(t){case"UP":return new e(this.x,this.y-1);case"DOWN":return new e(this.x,this.y+1);case"LEFT":return new e(this.x-1,this.y);case"RIGHT":return new e(this.x+1,this.y);case"UP_RIGHT":return new e(this.x+1,this.y-1);case"UP_LEFT":return new e(this.x-1,this.y-1);case"DOWN_LEFT":return new e(this.x-1,this.y+1);case"DOWN_RIGHT":return new e(this.x+1,this.y+1)}}}]),e}(),v=function(){function e(t,n){Object(o.a)(this,e),this.size=t,this.minesCount=n,this.generate()}return Object(u.a)(e,[{key:"generate",value:function(){this.placedMines=[],this.discoveredCells=[],this.flaggedCells=[],this.discoveredMines=[],this.init(),this.placeMines()}},{key:"init",value:function(){var e=this;this.matrix=new Array(this.size).fill(0).map(function(t){return new Array(e.size).fill(0)})}},{key:"placeMines",value:function(){this.placedMines=[];for(var e=1;e<=this.minesCount;e++){for(var t=this.randomCoords();this.placedMines.includes(t.uuid());)t=this.randomCoords();this.setOnCoords(t,9),this.placedMines.push(t.uuid()),this.updateMineNeighbours(t)}}},{key:"setOnCoords",value:function(e,t){this.matrix[e.x][e.y]=t}},{key:"getOnCoords",value:function(e){return this.matrix[e.x][e.y]}},{key:"findNeighboursFor",value:function(e){var t=this;return e.designateNeighbours().filter(function(e){return e.isValid(t.size)})}},{key:"isMine",value:function(e){return 9===this.getOnCoords(e)}},{key:"isNum",value:function(e){return this.getOnCoords(e)>0&&this.getOnCoords(e)<9}},{key:"isEmpty",value:function(e){return 0===this.getOnCoords(e)}},{key:"isValid",value:function(e){return e.isValid(this.size)}},{key:"updateMineNeighbours",value:function(e){var t=this;this.findNeighboursFor(e).forEach(function(e){t.isMine(e)||t.setOnCoords(e,t.getOnCoords(e)+1)})}},{key:"cellIsDiscovered",value:function(e){return this.discoveredCells.find(function(t){return t.uuid()===e.uuid()})}},{key:"cellIsFlagged",value:function(e){return this.flaggedCells.find(function(t){return t.uuid()===e.uuid()})}},{key:"cellIsDefeatCause",value:function(e){return this.discoveredMines.find(function(t){return t.uuid()===e.uuid()})}},{key:"markDiscovered",value:function(e){this.discoveredCells.push(e)}},{key:"markFlagged",value:function(e,t){this.flaggedCells=t?Object(A.a)(this.flaggedCells).concat([e]):this.flaggedCells.filter(function(t){return t.uuid()!==e.uuid()})}},{key:"onCellDiscover",value:function(e){var t=this;this.isValid(e)&&(this.cellIsDiscovered(e)||this.cellIsFlagged(e)||(this.isMine(e)?this.discoveredMines=Object(A.a)(this.discoveredMines).concat([e]):this.isNum(e)?this.markDiscovered(e):this.isEmpty(e)&&(this.markDiscovered(e),this.findNeighboursFor(e).forEach(function(e){return t.onCellDiscover(e)}))))}},{key:"onCellFlag",value:function(e){this.isValid(e)&&(this.cellIsDiscovered(e)||this.markFlagged(e,!this.cellIsFlagged(e)))}},{key:"hasDiscoveredAllCells",value:function(){return Math.pow(this.size,2)-this.placedMines.length===this.discoveredCells.length}},{key:"flaggedMinesCount",value:function(){var e=this;return this.flaggedCells.filter(function(t){return e.isMine(t)})}},{key:"hasFlaggedAllMines",value:function(){return this.flaggedMinesCount().length===this.minesCount}},{key:"minesLeft",value:function(){return this.minesCount-this.flaggedCells.length}},{key:"randomCoords",value:function(){return new f(this.random(),this.random())}},{key:"random",value:function(){var e=this.size;return Math.floor(Math.random()*(e-0))+0}}]),e}(),g=n(2),m=n(3),p=n(15),b=n.n(p),x=n(16),y=n.n(x);function C(){var e=Object(g.a)(["\n    &:after {\n      content: '","';\n    }\n  "]);return C=function(){return e},e}function k(){var e=Object(g.a)(["\n    background-color: #FA1C28;\n  "]);return k=function(){return e},e}function O(){var e=Object(g.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return O=function(){return e},e}function E(){var e=Object(g.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return E=function(){return e},e}function w(){var e=Object(g.a)(["\n    background: #F7D8B6;\n    box-shadow: none;\n  "]);return w=function(){return e},e}function M(){var e=Object(g.a)(["\n  margin: 1px;\n  background: #F16163;\n  width: 25px;\n  height: 25px;\n  float: left;\n  padding-top: 3px;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  color: #597FA0;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24);\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return M=function(){return e},e}var j=m.b.div(M(),function(e){return e.discovered&&Object(m.a)(w())},function(e){return e.flagged&&Object(m.a)(E(),b.a)},function(e){return e.discovered&&e.hasMine&&Object(m.a)(O(),y.a)},function(e){return e.boomed&&Object(m.a)(k())},function(e){return e.discovered&&e.hasNum&&Object(m.a)(C(),e.num)}),F=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).onDiscover=n.onDiscover.bind(Object(d.a)(Object(d.a)(n))),n.onMineFlag=n.onMineFlag.bind(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onDiscover",value:function(e){e.preventDefault(),this.props.onCellDiscover(this.props.coords)}},{key:"onMineFlag",value:function(e){e.preventDefault(),this.props.onCellFlag(this.props.coords)}},{key:"render",value:function(){return r.a.createElement(j,{num:this.props.num,key:this.props.uuid,hasMine:this.props.hasMine,hasNum:this.props.hasNum,flagged:this.props.flagged,boomed:this.props.isDefeatCause,discovered:this.props.discovered,onClick:this.onDiscover,onContextMenu:this.onMineFlag})}}]),t}(i.Component);function D(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  max-width: 275px;\n  min-width: 275px;\n"]);return D=function(){return e},e}var N=m.b.div(D());function T(){var e=Object(g.a)(["\n  display: block;\n  height: 25px;\n  margin: 1px;\n"]);return T=function(){return e},e}var Q=m.b.div(T());function I(){var e=Object(g.a)(["\n  cursor: ponter;\n  background-color: #EEAF09;\n  border-color: #EEAF09;\n  color: #fff;\n\n  margin-top: 10px;\n\n  text-align: center;\n  vertical-align: middle;\n  touch-action: manipulation;\n  cursor: pointer;\n  background-image: none;\n  border: 1px solid transparent;\n  white-space: nowrap;\n\n  outline: 0;\n\n  font-size: 13px;\n  line-height: 1.5384616;\n  border-radius: 3px;\n\n  font-weight: 700;\n  text-transform: uppercase;\n  border-width: 0;\n  padding: 9px 17px;\n\n  -webkit-transition: all ease-in-out 0.15s;\n  -o-transition: all ease-in-out 0.15s;\n  transition: all ease-in-out 0.15s;\n\n  &:active {\n    background-color: #D6420A;\n  }\n"]);return I=function(){return e},e}var R=m.b.a(I()),Z=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state=n.init(),n.onCellDiscover=n.onCellDiscover.bind(Object(d.a)(Object(d.a)(n))),n.onCellFlag=n.onCellFlag.bind(Object(d.a)(Object(d.a)(n))),n.onReset=n.onReset.bind(Object(d.a)(Object(d.a)(n))),n.interval=null,n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"finished",value:function(){return this.win()||this.defeat()}},{key:"generateMatrix",value:function(){return new v(this.props.size,this.minesCount())}},{key:"minesCount",value:function(){return Math.ceil(.0589*Math.pow(Math.pow(this.props.size,2),1.1711))}},{key:"init",value:function(){return{started:!1,matrix:this.generateMatrix(),gameSecondsCount:0}}},{key:"startTimer",value:function(){var e=this;this.interval||(this.interval=setInterval(function(){e.setState(function(e){return{gameSecondsCount:e.gameSecondsCount+1}})},1e3))}},{key:"stopTimer",value:function(){clearInterval(this.interval),this.interval=null}},{key:"defeat",value:function(){return this.state.matrix.discoveredMines.length>0}},{key:"win",value:function(){return this.state.matrix.hasDiscoveredAllCells()&&this.state.matrix.hasFlaggedAllMines()}},{key:"onCellDiscover",value:function(e){this.finished()||(this.startTimer(),this.setState({started:!0}),this.state.matrix.onCellDiscover(e),this.finished()&&this.stopTimer())}},{key:"onCellFlag",value:function(e){this.finished()||(this.startTimer(),this.setState({started:!0}),this.state.matrix.onCellFlag(e),this.finished()&&this.stopTimer())}},{key:"onReset",value:function(){this.stopTimer(),this.setState(this.init())}},{key:"renderHeader",value:function(){return r.a.createElement("div",{style:{clear:"both",marginTop:"10px",marginBottom:"10px",width:"90%"}},r.a.createElement("div",null,r.a.createElement("h4",null,"React Minesweeper")),r.a.createElement("div",null,r.a.createElement("h4",null)),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:{float:"left"}},"Mines left: ",this.state.matrix.minesLeft()),r.a.createElement("div",{style:{float:"right"}},"Timer: ",this.state.gameSecondsCount)))}},{key:"renderBoard",value:function(){var e=this;return this.state.matrix.matrix.map(function(t,n){var i=t.map(function(t,i){var s=new f(i,n),a=e.state.matrix.getOnCoords(s),o=e.state.matrix.isMine(s),u=e.state.matrix.isNum(s);return r.a.createElement(F,{discovered:e.state.matrix.cellIsDiscovered(s)||e.finished(),flagged:e.state.matrix.cellIsFlagged(s),uuid:s.uuid(),key:s.uuid(),coords:s,num:a,hasNum:u,hasMine:o,isDefeatCause:e.state.matrix.cellIsDefeatCause(s),onCellDiscover:e.onCellDiscover,onCellFlag:e.onCellFlag})});return r.a.createElement(Q,{key:n},i)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null,this.renderHeader(),this.renderBoard(),r.a.createElement(R,{onClick:this.onReset},this.props.resetText)))}}]),t}(i.Component),B=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,this.props))}}]),t}(i.Component);B.defaultProps={size:10,beforeStartText:"Start when you are ready",winText:"You won!",defeatText:"You lost!",resetText:"Reset"};var z=B;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.d7e9e801.chunk.js.map