(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAEBXpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7VdZsisnDP1nFVkCkhCC5TBWZQdZfg4Y+9qO70vlPv+kyo0NtBCajhjajb/+nO4PPMzJu6CWYo7R4wk5ZC7oJH95Li35sOvLM09Lj3R3G2CQBK1cXuM4/AV0/Zpg4dDrI91ZO3LSEXTVfATK0szoHL50BAlf6HTeXT7zSrhz5/zb2CI8HaHP78EQjK4gCjseAjpqXloEFkiSgppQs+hiQikiu14Wvoydu3WfgnfrPcXOl0OXx1A4Hw9DfIrRoZO+jt2O0L1F9KX5YaCzN3//3MVuzp7mHBfvSoiIVHTHqasruwfGilDKnhZRDH9F33bJKAkuNiDWgWZFaY4yMaI9KVCnQpPGbhs1mBh4sKFlbiyblsQ4c9ughFVoskmW7oARSwNqAjLfbKGtN299jRI0dwInE4TRxvGpuFfEn5SboDlX6hL5dIsV7OKVgDBjIbdqcAEQmiemuuO7i7vLG38HrABB3WFOcLD4ehFRlb5ySzbOAj71wfnL0iDrRwBCBN0KY5DdgXwkUYrkjdmIEMcEfAosZwlcgQCpcic3gY1IBDiJl27MMdq8rHwhY2sBECpRDNBkKQArBEX+WEjIoaKiwalqVNOkWUuUGKLGGC2uPaqYWDC1aGbJspUkKSRNMVlKKaeSOQu2MM0xm8sp51wKlBaILphdwFFK5So1VK2xWk0119KQPi00bbFZSy230rlLx/LvsZvrqedeBg2k0ghDRxw20sijTOTalBmmzjhtpplnuaF2UH1EjZ6Q+zVqdFBbiIXNZ1+ogWx2FUFrO9GFGRDjQEDcFgJIaF6Y+UQh8EJuYeYzY1EoAzXSBU6nhRgQDINYJ92w+0Lul7g5Df8JN/4OObegewdybkF3kPsnbi9Q62WfKLIBWqtwxdTLxMY2OZX9w37889b9roCPoI+gj6CPoI+g/42gUnvrvVl0teLsi1KrpF6k4ytrjm7V5hihzoyr8v5CwuGPk/TlmMyqo7v1UjPPEWS2mDzPThqG7yFSHlFTVm2CA7clSnPg2H1tmktvCtKjIOGqedmYIy6wsG7gOmaK47staqvwJpHNUFot6xtvzVuXnRK3a81mU5zJE59VdWqbmkPKviNoNeO233CSC871WBd3xGUDE3CSz2ZhURK+JJ2uy0P5joFw1muEkdJth7bLHPgEoYhrRql3o+5u2OadrGUnpC1lV12vRm+acInYyr5R9Tj6oOnOraXJvcOtNere4day273DraXJ/cCtnTv81LprB7fBiEWkCTKxsCAGF/oSqyC7GqR4nZ0rj+/S2/3++hAk/r9sI2fFXNaLf1oxe70gDGfFuBfu/qh9JWjiEpzd342eZUUMcL0rAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4gsZFSACrP4dOAAAARZJREFUKM+d0sFqU1EYBODvJidJW8VQDUHauhIX14fwjV35Ci4KrlxIXLShG6GIhZbSNsYk10UncAkhhc7mv3Bmzsz951R1XX/Ge5zgADNc4BtO8QOXuPeIPbzBqOAT9tFHFz18CKHGT0zxJ+LXOMawhARVZgcvcuEYH3ET5ybp9vFQWqI2qqToYoDDCNdY4Kp4GtUWg+U64rPRdm62OD4p/oe/mcuI+tl6Sbpqw2SJeUkNZ/idjntZ0BgjDNNtN8JZapsWfMWXPIx5SK/wFu9wlG4HWOE63POSj+/4lcMqUfvp9GVmL84P6f22JP8ic9X6tznuErFdVxNeUza3PJlMQF3Xa2Kza9uLbYT1JbvQSf7lcx7Jf0GtSN6PnBRWAAAAAElFTkSuQmCC"},16:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAC33pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7ZdNkiMpDIX3nGKOkJIQEsch+YnoG8zx50FS6bKruiOmpxezcBIGUhYP0CdwVeh//xjhLzyU5QhRzVNO6cATc8xc0PHjeq6Wjrjq62W3eH+yh/sLhknQyvWa+vYvsOtjgMVtP5/twerW8S30IbwFZc7M6Gw/30LCl532e8h7XImftrM/tS+Jg7bo63s0BKMpjMKBu8COmucsghWIS0FNqFkUTodk9I9lIcnfxy7c3Zfg3b2X2B1l2+U5FOFI2yG9xGjbSb+P3YrQE7XHzE9fmNxTfIndGM3H6NfuSkyIVAp7Ux9bWT04ngilrGEJxfBR9G2VjOLYYgWxBponSg2UiRHtQZEaFRrUV1upYomROxta5sqybC7GmesKfZyFBhtgtABGLBXUBGa+10Jr3rzmq+SYuRE8mSBGGPGlhO+Mv1NuoTHqdZL8jhXWxTMBsYxJbtbwAhAaO6a64rtK+JQ3xyewAoK6wuzYYDnOS+JUeuSWLM4CPz1iOK6jQda2AEKEuRWLQXZHOhKJUqLDmI0IcXTwKVg5S+QTBEiVG4UBNiIJcJzn3BhjtHxZ+TLjagEIlSQGNDgugBWjIn8sOnKoqGgMqprU1DVrSZJi0pSSpXlHFROLppbMzC1bcfHo6snN3bOXzFlwhWlO2UL2nHMpmLRAumB0gUcpJ59yxlPPdNrpZz5LRfrUWLWmatVrrqVxk4bj31Kz0LzlVjp1pFKPXXvq1r3nXgZybciIQ0caNnzkUW5qm+ozNXoh92tqtKlNYnH52YMazGYfEjSvE53MQIwjgbhNAkhonswOpxh5kpvMjsw4FMqgRjrhNJrEQDB2Yh10s3uQ+yW3oPFfceOfkQsT3Z8gFya6Te4rt2+otbJ+UWQBmqdwxvSQgYsNDt0Le5m/Sb/dhv8q8BZ6C72F3kJvobfQW+j/IzTwxwP+4Qv/ABFtkYthkqrBAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH4gsZCAETXi8YCgAAAbFJREFUOMuF01tLlFEUxvHfHBwdx5gOUpB00MqpsbJuIggv6iN01VfrC3TVbUFQF5E3EhEFhhLSwZKwA1hYao5vFz0Db17Ygs17YO1n/fez1q75G5XSqqKB/biIm9jEFnayyvlqeRnEgWw+iGlcxw1cwRgOYyBiDYxgG72+2miqjuIUrqGDQxjCL3zGPGaxjFW8wFo9x9mOwC1MoR3xeqoP5t8YuniGO9lX9EWGQzCFAvfwEZOYwZF41cJENs+Gcr2WKtOhmMAj3MbDYI/jWIhErBmzX2G1GoO68aASgvf4grf4lMpKnRwOdQfDVZzGuXjSzBGmcAIXQjLg36imW12crONq/BhM8gz2hWA8XWvsEunTTOJSLWc7ivMhacWDs6FppXI5CnzDfTyo4x0WMgftknF7xU5IF7BSxXqGaD5D9b8o8AMvsYiNKn5jKX3/kO9iD4EtvMGTjECvf3ca6U47U9rMs38tihzhO17jOZ5mBDb7IiNxezFJG6XqvZi4hMe4G4E1fMVmpUTSzFANpSudzM+Z+LWQIsvJq+Entiq7el/kWQvZcVzGHFZC2CvlFfAHzYhtWKHBzwcAAAAASUVORK5CYII="},20:function(e,t,n){e.exports=n(35)},25:function(e,t,n){},27:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),s=n(9),a=n.n(s),o=(n(25),n(4)),u=n(5),c=n(7),l=n(6),h=n(8),d=(n(27),n(1)),f=n(13),g=function(){function e(t,n){Object(o.a)(this,e),this.x=t,this.y=n}return Object(u.a)(e,[{key:"uuid",value:function(){return parseInt("1".concat(this.x).concat(this.y))}},{key:"isValid",value:function(e){return!(this.x<0)&&(!(this.y<0)&&(!(this.x>=e)&&!(this.y>=e)))}},{key:"directions",value:function(){return["UP","DOWN","LEFT","RIGHT","UP_RIGHT","UP_LEFT","DOWN_LEFT","DOWN_RIGHT"]}},{key:"designateNeighbours",value:function(){var e=this;return this.directions().map(function(t){return e.move(t)})}},{key:"move",value:function(t){switch(t){case"UP":return new e(this.x,this.y-1);case"DOWN":return new e(this.x,this.y+1);case"LEFT":return new e(this.x-1,this.y);case"RIGHT":return new e(this.x+1,this.y);case"UP_RIGHT":return new e(this.x+1,this.y-1);case"UP_LEFT":return new e(this.x-1,this.y-1);case"DOWN_LEFT":return new e(this.x-1,this.y+1);case"DOWN_RIGHT":return new e(this.x+1,this.y+1)}}}]),e}(),v=function(){function e(t,n){Object(o.a)(this,e),this.size=t,this.minesCount=n,this.generate()}return Object(u.a)(e,[{key:"generate",value:function(){this.placedMines=[],this.discoveredCells=[],this.flaggedCells=[],this.discoveredMines=[],this.init(),this.placeMines()}},{key:"init",value:function(){var e=this;this.matrix=new Array(this.size).fill(0).map(function(t){return new Array(e.size).fill(0)})}},{key:"placeMines",value:function(){this.placedMines=[];for(var e=1;e<=this.minesCount;e++){for(var t=this.randomCoords();this.placedMines.includes(t.uuid());)t=this.randomCoords();this.setOnCoords(t,9),this.placedMines.push(t.uuid()),this.updateMineNeighbours(t)}}},{key:"setOnCoords",value:function(e,t){this.matrix[e.x][e.y]=t}},{key:"getOnCoords",value:function(e){return this.matrix[e.x][e.y]}},{key:"findNeighboursFor",value:function(e){var t=this;return e.designateNeighbours().filter(function(e){return e.isValid(t.size)})}},{key:"isMine",value:function(e){return 9===this.getOnCoords(e)}},{key:"isNum",value:function(e){return this.getOnCoords(e)>0&&this.getOnCoords(e)<9}},{key:"isEmpty",value:function(e){return 0===this.getOnCoords(e)}},{key:"isValid",value:function(e){return e.isValid(this.size)}},{key:"updateMineNeighbours",value:function(e){var t=this;this.findNeighboursFor(e).forEach(function(e){t.isMine(e)||t.setOnCoords(e,t.getOnCoords(e)+1)})}},{key:"cellIsDiscovered",value:function(e){return this.discoveredCells.find(function(t){return t.uuid()===e.uuid()})}},{key:"cellIsFlagged",value:function(e){return this.flaggedCells.find(function(t){return t.uuid()===e.uuid()})}},{key:"cellIsDefeatCause",value:function(e){return this.discoveredMines.find(function(t){return t.uuid()===e.uuid()})}},{key:"markDiscovered",value:function(e){this.discoveredCells.push(e)}},{key:"markFlagged",value:function(e,t){this.flaggedCells=t?Object(f.a)(this.flaggedCells).concat([e]):this.flaggedCells.filter(function(t){return t.uuid()!==e.uuid()})}},{key:"onCellDiscover",value:function(e){var t=this;this.isValid(e)&&(this.cellIsDiscovered(e)||this.cellIsFlagged(e)||(this.isMine(e)?this.discoveredMines=Object(f.a)(this.discoveredMines).concat([e]):this.isNum(e)?this.markDiscovered(e):this.isEmpty(e)&&(this.markDiscovered(e),this.findNeighboursFor(e).forEach(function(e){return t.onCellDiscover(e)}))))}},{key:"onCellFlag",value:function(e){this.isValid(e)&&(this.cellIsDiscovered(e)||this.markFlagged(e,!this.cellIsFlagged(e)))}},{key:"hasDiscoveredAllCells",value:function(){return Math.pow(this.size,2)-this.placedMines.length===this.discoveredCells.length}},{key:"flaggedMinesCount",value:function(){var e=this;return this.flaggedCells.filter(function(t){return e.isMine(t)})}},{key:"hasFlaggedAllMines",value:function(){return this.flaggedMinesCount().length===this.minesCount}},{key:"minesLeft",value:function(){return this.minesCount-this.flaggedCells.length}},{key:"randomCoords",value:function(){return new g(this.random(),this.random())}},{key:"random",value:function(){var e=this.size;return Math.floor(Math.random()*(e-0))+0}}]),e}(),b=n(2),m=n(3),A=n(15),p=n.n(A),O=n(16),k=n.n(O);function x(){var e=Object(b.a)(["\n    &:after {\n      content: '","';\n    }\n  "]);return x=function(){return e},e}function C(){var e=Object(b.a)(["\n    background-color: red;\n  "]);return C=function(){return e},e}function y(){var e=Object(b.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return y=function(){return e},e}function j(){var e=Object(b.a)(["\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n  "]);return j=function(){return e},e}function w(){var e=Object(b.a)(["\n    background: #E5DADA;\n    color: #91A5AC;\n    box-shadow: none;\n  "]);return w=function(){return e},e}function F(){var e=Object(b.a)(["\n  margin: 1px;\n  background: #AC9891;\n  width: 25px;\n  height: 25px;\n  float: left;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  box-shadow: 0 1px 6px rgba(0, 0, 0, 0.12), 0 1px 4px rgba(0, 0, 0, 0.24);\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n"]);return F=function(){return e},e}var M=m.b.div(F(),function(e){return e.discovered&&Object(m.a)(w())},function(e){return e.flagged&&Object(m.a)(j(),p.a)},function(e){return e.discovered&&e.hasMine&&Object(m.a)(y(),k.a)},function(e){return e.boomed&&Object(m.a)(C())},function(e){return e.discovered&&e.hasNum&&Object(m.a)(x(),e.num)}),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).onDiscover=n.onDiscover.bind(Object(d.a)(Object(d.a)(n))),n.onMineFlag=n.onMineFlag.bind(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onDiscover",value:function(e){e.preventDefault(),this.props.onCellDiscover(this.props.coords)}},{key:"onMineFlag",value:function(e){e.preventDefault(),this.props.onCellFlag(this.props.coords)}},{key:"render",value:function(){return r.a.createElement(M,{num:this.props.num,key:this.props.uuid,hasMine:this.props.hasMine,hasNum:this.props.hasNum,flagged:this.props.flagged,boomed:this.props.isDefeatCause,discovered:this.props.discovered,onClick:this.onDiscover,onContextMenu:this.onMineFlag})}}]),t}(i.Component);function D(){var e=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  min-height: 100vh;\n"]);return D=function(){return e},e}var I=m.b.div(D());function B(){var e=Object(b.a)(["\n  background: white;\n  display: block;\n  height: 25px;\n  margin: 1px;\n"]);return B=function(){return e},e}var z=m.b.div(B());function G(){var e=Object(b.a)(["\n  display:inline-block;\n\u2003 padding:0.2em 1.45em;\n\u2003 margin:0.1em;\n\u2003 border:0.15em solid #9E8881;\n\u2003 box-sizing: border-box;\n\u2003 text-decoration:none;\n\u2003 font-family:'Segoe UI','Roboto',sans-serif;\n\u2003 font-weight:400;\n\u2003 color: white;\n\u2003 background-color:#9E8881;\n\u2003 text-align:center;\n\u2003 position:relative;\n  cursor: pointer;\n  margin: 10px;\n  &:hover{\n    border-color:#523E37;\n  }\n  &:active{\n\u2003   background-color:#999999;\n  }\n  @media all and (max-width:30em){\n\u2003\u2003  display:block;\n\u2003\u2003  margin:0.2em auto;\n\u2003 }\n"]);return G=function(){return e},e}var W=m.b.a(G()),U=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state=n.init(),n.onCellDiscover=n.onCellDiscover.bind(Object(d.a)(Object(d.a)(n))),n.onCellFlag=n.onCellFlag.bind(Object(d.a)(Object(d.a)(n))),n.onReset=n.onReset.bind(Object(d.a)(Object(d.a)(n))),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"finished",value:function(){return this.win()||this.defeat()}},{key:"generateMatrix",value:function(){return new v(this.props.size,this.minesCount())}},{key:"minesCount",value:function(){return Math.ceil(.0589*Math.pow(Math.pow(this.props.size,2),1.1711))}},{key:"init",value:function(){return{started:!1,matrix:this.generateMatrix()}}},{key:"defeat",value:function(){return this.state.matrix.discoveredMines.length>0}},{key:"win",value:function(){return this.state.matrix.hasDiscoveredAllCells()&&this.state.matrix.hasFlaggedAllMines()}},{key:"onCellDiscover",value:function(e){this.finished()||(this.setState({started:!0}),this.state.matrix.onCellDiscover(e))}},{key:"onCellFlag",value:function(e){this.finished()||(this.setState({started:!0}),this.state.matrix.onCellFlag(e))}},{key:"onReset",value:function(){this.setState(this.init())}},{key:"renderHeader",value:function(){return this.win()?r.a.createElement("h4",{style:{color:"green"}},this.props.winText):this.defeat()?r.a.createElement("h4",{style:{color:"red"}},this.props.defeatText):this.state.started?r.a.createElement("h4",null,this.state.matrix.minesLeft()):r.a.createElement("h4",null,this.props.beforeStartText)}},{key:"renderBoard",value:function(){var e=this;return this.state.matrix.matrix.map(function(t,n){var i=t.map(function(t,i){var s=new g(i,n),a=e.state.matrix.getOnCoords(s),o=e.state.matrix.isMine(s),u=e.state.matrix.isNum(s);return r.a.createElement(E,{discovered:e.state.matrix.cellIsDiscovered(s)||e.finished(),flagged:e.state.matrix.cellIsFlagged(s),uuid:s.uuid(),key:s.uuid(),coords:s,num:a,hasNum:u,hasMine:o,isDefeatCause:e.state.matrix.cellIsDefeatCause(s),onCellDiscover:e.onCellDiscover,onCellFlag:e.onCellFlag})});return r.a.createElement(z,{key:n},i)})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,null,this.renderHeader(),this.renderBoard(),r.a.createElement(W,{onClick:this.onReset},this.props.resetText)))}}]),t}(i.Component),N=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(U,this.props))}}]),t}(i.Component);N.defaultProps={size:10,beforeStartText:"Start when you are ready",winText:"You won!",defeatText:"You lost!",resetText:"Reset"};var S=N;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.7b78a0a7.chunk.js.map